---
- hosts: all
  gather_facts: False
  become: true
  tasks:
    - name: Deploy Password Policy
      shell: pam-config -a --cracklib --cracklib-minlen=15 --cracklib-difok=3 --cracklib-lcredit=-1 --cracklib-ucredit=-1 --cracklib-dcredit=-1 --cracklib-ocredit=-1
    
    - name: Deploy Password History
      shell: pam-config -a --pwhistory --pwhistory-remember=5